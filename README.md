# serde_ton

`serde_ton`は、TinyObjectNotation (TON) フォーマットのシリアライゼーションとデシリアライゼーションを提供するRustライブラリです。

## 機能

- TONフォーマットのシリアライゼーション
- TONフォーマットのデシリアライゼーション

## TONフォーマット

TON (TinyObjectNotation) は、軽量で効率的なデータシリアライゼーションフォーマットです。各データ型は識別子、長さサイズ、データ長、データ本体の4つのフィールドで構成されます。

### フォーマットの構造

| フィールド名 | ビット数         | 説明                                   |
|--------------|------------------|----------------------------------------|
| *識別子*       | 6ビット          | 型を識別する固有のID                     |
| *長さサイズ*   | 2ビット          | 「データ長」フィールドのサイズを示す     |
| *データ長*     | 可変 (8～64ビット) | 実際のデータのバイト数を表す              |
| *データ本体*   | 可変             | 実際の値や文字列、バイナリなどのデータ      |

### フィールドの詳細

- **識別子**: 各型に固有の値が割り当てられています。
- **長さサイズ**: データ長のサイズを示します。
  - `00`: 1バイト (最大 255バイト)
  - `01`: 2バイト (最大 65,535バイト)
  - `10`: 4バイト (最大 4,294,967,295バイト)
  - `11`: 8バイト (最大 18,446,744,073,709,551,615バイト)
- **データ長**: 実際のデータのバイト数を表します。
- **データ本体**: 実際のデータが格納されるフィールドです。

### 型の例

#### Null
- **識別子**: `0b000000`
- **長さサイズ**: `00`
- **データ長**: なし
- **データ本体**: なし

#### Boolean
- **識別子**: `0b000001`
- **長さサイズ**: bool値をここに示す

#### Int32
- **識別子**: `0b000010`
- **長さサイズ**: `10`
- **データ長**: 4バイト
- **データ本体**: 32ビットの整数値

#### String
- **識別子**: `0b000110`
- **長さサイズ**: `00`, `01`, `10`, `11` (データ長に応じて変化)
- **データ長**: 可変
- **データ本体**: UTF-8エンコードされた文字列

### 各例の構造

- **可変長グループ** (String, Binary, DateTime, Array, Object, WrappedJSON, Meta)  
  → ヘッドに *識別子* と *データ長 (可変: 8～64ビット)* を分離して格納
- **固定長グループ** (Null, Boolean, Int, UInt, Float, UUID, Timestamp, Duration)  
  → ヘッド内の *長さサイズ* でデータ本体のサイズを示す

## Todo
- ✓シリアライザーの実装
- ☐デシリアライザの実装
- ☐エラーハンドリングの改善
- ☐ドキュメントの充実

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。詳細については、LICENSEファイルを参照してください。
